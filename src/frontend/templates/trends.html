<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Trends - NC Elections Transparency Project</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        .trend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .trend-card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .trend-card h3 {
            margin-top: 0;
            color: #2c3e50;
            border-bottom: 2px solid #634ea3;
            padding-bottom: 0.5rem;
        }
        
        .chart-container {
            width: 100%;
            height: 600px;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .chart-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .section-divider {
            margin: 3rem 0;
            border-top: 3px solid #634ea3;
            position: relative;
        }
        
        .section-divider h2 {
            background: white;
            display: inline-block;
            padding: 0 1rem;
            position: relative;
            top: -1.2rem;
            color: #634ea3;
        }
        
        .full-width-card {
            grid-column: 1 / -1;
        }
    </style>
</head>
<body>
    <nav>
        <div class="container">
            <a href="{{ url_for('index') }}" class="logo">NC ELECTIONS TRANSPARENCY</a>
            <ul class="nav-links">
                <li><a href="{{ url_for('index') }}#about">About</a></li>
                <li><a href="{{ url_for('index') }}#data">Data</a></li>
            </ul>
        </div>
    </nav>

    <header class="page-header">
        <div class="container">
            <div class="breadcrumb">
                <a href="{{ url_for('index') }}">‚Üê Back to Home</a>
            </div>
            <h1>Registration Trends</h1>
            <p class="tagline">Track how North Carolina's electorate has evolved over time</p>
        </div>
    </header>

    <main>
        <section class="detail-section">
            <div class="container">
                <div class="detail-info">
                    <h2>Understanding Electoral Growth</h2>
                    <p>
                        These interactive visualizations track the evolution of voter registration 
                        in North Carolina across multiple demographic dimensions. Explore how party 
                        affiliation, age groups, gender, and race have changed over time, revealing 
                        critical patterns in civic engagement and electoral participation.
                    </p>
                </div>

                <div class="section-divider">
                    <h2>Overall Trends</h2>
                </div>

                <div class="trend-grid">
                    <div class="trend-card full-width-card">
                        <h3>Cumulative Registration Growth</h3>
                        <div class="chart-container">
                            <iframe src="{{ url_for('serve_chart', filename='cumulative_registration.html') }}" 
                                    title="Cumulative Registration"></iframe>
                        </div>
                    </div>

                    <div class="trend-card full-width-card">
                        <h3>Weekly Registration Activity</h3>
                        <div class="chart-container">
                            <iframe src="{{ url_for('serve_chart', filename='weekly_registrations.html') }}" 
                                    title="Weekly Registrations"></iframe>
                        </div>
                    </div>
                </div>
                
                <div class="insight-box" style="margin-top: 1rem;">
                            <h2>What's going on in October?</h2>
                            <h5>
                                You may notice that almost every year, typically in the first and last week of October, there are large 
                                increases in voter registrations. This is due to two election-related deadlines:
                            </h5>
                            <ul>
                                <li>The first is North Carolina's 
                                    registration deadline, which occurs 25 days before election day - typically around October 8-12. There are a lot 
                                    of voter registrations that week as county boards of elections catch up on their backlog of applications, inputting 
                                    them into the NCSBE's system.
                                </li>
                                
                                <li>
                                    The second is the end of Early Voting, which typically falls on the last weekend of October. 
                                    While North Carolina's voter registration deadline is 25 days before an election, that does not apply to same-day registration: 
                                    registering to vote at the polling site just before casting a ballot.
                                    This second 'jump' in registrations are likely largely same-day registrants being added to the voter file during early voting.
                                </li>
                            </ul>
                        </div>

                <div class="section-divider">
                    <h2>Demographic Trends</h2>
                </div>

                <div class="trend-grid">
                    <div class="trend-card full-width-card">
                        <h3>Party Affiliation Over Time</h3>
                        <div class="chart-container">
                            <iframe src="{{ url_for('serve_chart', filename='party_trends.html') }}" 
                                    title="Party Trends"></iframe>
                        </div>
                        <div class="insight-box" style="margin-top: 1rem;">
                            <p>
                                Track how party registration has evolved, showing the growth of 
                                Democrats, Republicans, and Unaffiliated voters over time. This 
                                reveals long-term shifts in political affiliation patterns.
                            </p>
                        </div>
                    </div>

                    <div class="trend-card full-width-card">
                        <h3>Age Group Patterns Over Time</h3>
                        <div class="chart-container">
                            <iframe src="{{ url_for('serve_chart', filename='age_group_trends.html') }}" 
                                    title="Age Group Trends"></iframe>
                        </div>
                        <div class="insight-box" style="margin-top: 1rem;">
                            <p>
                                Compare registration growth across age cohorts. Younger voters 
                                (18-25) often show spikes during election years, while older 
                                age groups maintain steadier growth patterns.
                            </p>
                        </div>
                    </div>

                    <div class="trend-card full-width-card">
                        <h3>Gender Distribution Over Time</h3>
                        <div class="chart-container">
                            <iframe src="{{ url_for('serve_chart', filename='gender_trends.html') }}" 
                                    title="Gender Trends"></iframe>
                        </div>
                        <div class="insight-box" style="margin-top: 1rem;">
                            <p>
                                Examine how male and female registration has grown over time. 
                                Gender participation patterns can reveal insights into civic 
                                engagement across demographic groups.
                            </p>
                        </div>
                    </div>

                    <div class="trend-card full-width-card">
                        <h3>Racial Demographics Over Time</h3>
                        <div class="chart-container">
                            <iframe src="{{ url_for('serve_chart', filename='race_trends.html') }}" 
                                    title="Race Trends"></iframe>
                        </div>
                        <div class="insight-box" style="margin-top: 1rem;">
                            <p>
                                Track registration growth across racial categories, revealing 
                                how North Carolina's electorate has become more diverse over 
                                time and identifying potential gaps in registration outreach.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="section-divider">
                    <h2>Key Insights</h2>
                </div>

                <div class="info-grid">
                    <div class="insight-box">
                        <h3>Election Year Surges</h3>
                        <p>
                            Voter registration typically experiences significant increases during 
                            election years, particularly in the months leading up to major federal 
                            and state elections. These spikes reflect heightened civic engagement, 
                            organized registration drives, and increased media attention to 
                            electoral politics.
                        </p>
                    </div>

                    <div class="insight-box">
                        <h3>Demographic Shifts</h3>
                        <p>
                            Long-term trends reveal gradual shifts in the composition of North 
                            Carolina's electorate. Changes in party affiliation, age distribution, 
                            and racial demographics reflect broader social and political changes 
                            affecting the state.
                        </p>
                    </div>

                    <div class="insight-box">
                        <h3>Policy Impact</h3>
                        <p>
                            Registration trends often correlate with policy changes such as 
                            same-day registration, automatic voter registration, and changes 
                            to registration deadlines. Understanding these connections provides 
                            insight into what drives electoral participation.
                        </p>
                    </div>

                    <div class="insight-box">
                        <h3>Growth Rates Vary</h3>
                        <p>
                            Different demographic groups show varying rates of registration growth. 
                            Some populations grow steadily, while others show more volatile patterns 
                            tied to specific elections or political events.
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>
                Data source: 
                <a href="https://www.ncsbe.gov/" target="_blank" rel="noopener">
                    NC State Board of Elections
                </a>
            </p>
            <p>&copy; 2026 NC Elections Transparency Project</p>
        </div>
    </footer>
</body>
</html>